<!DOCTYPE html>
<html>
  <head>
    <title>Calculator</title>
    <style>
      div {
        margin: 20px 0px;
      }
    </style>
  </head>
  <body>

    <p>Calculator</p>

    <!-------1-3-------->
    <div>
    <button onclick="
      updateCalculation('1');
    ">1</button>

    <button onclick="
      updateCalculation('2');
    ">2</button>

    <button onclick="
      updateCalculation('3');
    ">3</button>

    <button onclick="
      updateCalculation(' + ');
    ">+</button>
    </div>


    <!-------4-6-------->
    <div>
    <button onclick="
      updateCalculation('4');
    ">4</button>

    <button onclick="
      updateCalculation('5');
    ">5</button>

    <button onclick="
      updateCalculation('6');
    ">6</button>

    <button onclick="
      updateCalculation(' - ');
    ">-</button>
    </div>

    <!-------7-9-------->
    <div>
    <button onclick="
      updateCalculation('7');
    ">7</button>

    <button onclick="
      updateCalculation('8');
    ">8</button>

    <button onclick="
      updateCalculation('9');
    ">9</button>

    <button onclick="
      updateCalculation(' * ');
    ">*</button>
    </div>

    <!-------bottom-------->
    <div>
    <button onclick="
      updateCalculation('0');
    ">0</button>

    <button onclick="
      updateCalculation('.');
    ">.</button>

    <button onclick="
      calculation = calculator(calculation);
      console.log(calculation);
    ">=</button>

    <button onclick="
      updateCalculation(' / ');
    ">/</button>
    </div>

    <div>
      <button onclick="
        updateCalculation('');
        ">Clear</button>
    </div>

    <script>
      let calculation = localStorage.getItem('calculation') || '';

      function calculator(calculation) {
        let arr = calculation.split(' ');
        console.log(arr);

        let base = +arr[0];

        for(let i = 2; i < arr.length; i+=2) {
          // console.log(arr[i]);
          if (arr[i-1] === '+') base += +arr[i];
          if (arr[i-1] === '-') base -= arr[i];
          if (arr[i-1] === '*') base *= arr[i];
          if (arr[i-1] === '/') base /= arr[i];
          // console.log(base);
        }

        localStorage.setItem('calculation', `${base}`);
        return String(base);  //saves result in calculation variable
      }

      function updateCalculation(value) {
        if (value) {
          calculation += value;
          console.log(calculation);
        } else {
          calculation = value;      //clears calc str because '' == false
          console.log('Cleared.');
        }

        localStorage.setItem('calculation', `${calculation}`);
      }

    </script>
  </body>
</html>